Using the Federated Search tool:

Build the docker container to ensure a consistent environment

  cd tools
  docker build -t zendesk-publish .

Populate a file with the environment variables you want to use; this makes it
easier to jump between sandbox and production environments. These are the expected
enviroment variables, as defined within the python script

    ZENDESK_PREFIX=
    ZENDESK_DOMAIN=
    ZENDESK_USER=
    ZENDESK_TOKEN=

For example, you could create ~/.config/zendesk-sandbox and ~/.config/zendesk-production. In the examples below, sandbox is used

Run the docker container from the root directory when you want to publish. For example:

  docker run --env-file ~/.config/zendesk-sandbox --volume $(git rev-parse --show-toplevel):/docs zendesk-publish

To update Zendesk, add --commit to the command line.

  docker run --env-file ~/.config/zendesk-sandbox --volume $(git rev-parse --show-toplevel):/docs zendesk-publish --commit
